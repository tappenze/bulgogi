<!DOCTYPE html>
<html>
<head>
    <title>Include SDK - Using SoundCloud API</title>

    <script src="https://connect.soundcloud.com/sdk/sdk-3.3.2.js"></script>
    <script>
        SC.initialize({
            client_id: '3UT1QkKC2kBqMLmSnbLbIps1suqeSlRs',
        });
        console.log("got here");

        </script>
    <script async>
        async function search(song) {
            const tracks = await SC.get('/tracks', {
                q: song
            });
            return tracks[0].id;
        }

        async function createPlayer(song) {

            if (document.getElementById("player") != undefined) {
                let removeMe = document.getElementById(("player"));
                removeMe.parentNode.removeChild(removeMe);
            }

            const urlA = "https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/";
            const trackID = await search(song);
            const urlB = "?autoplay=true";
            var ifrm = document.createElement("iframe");
            ifrm.setAttribute("src", urlA + trackID + urlB);
            ifrm.style.width = "100%";
            ifrm.style.height = "166px";
            document.body.appendChild(ifrm);
            ifrm.id = "player";
        }
    </script>

</head>
<body>
<!--<iframe width="100%" height="166" scrolling="no" frameborder="no" allow="autoplay"-->
<!--  src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/256241332?autoplay=true">-->
<!--</iframe>-->
</body>
</html>